##################################################################### # LCD Menu #####################################################################
[menu __main __control __runoutonoff] 
type: input enable: {'filament_motion_sensor btt_sensor' in printer.configfile.settings} name: Runout: {'ON ' if menu.input else 'OFF'} input: 1 input_min: 0 input_max: 1 input_step: 1 index: 4 gcode: SET_FILAMENT_SENSOR SENSOR=btt_sensor ENABLE={menu.input|int}
##################################################################### # Macro #####################################################################
[gcode_macro _RUNOUT_INFO] 
gcode: {% if 'filament_motion_sensor runout' in printer.configfile.settings %} #{% set enable = printer['filament_motion_sensor btt_sensor'].enabled %} #{% set detect = printer['filament_motion_sensor btt_sensor'].filament_detected %} {% set enable = true %} {% set detect = true %} {action_respond_info("RUNOUT Motion Sensor: Enabled: %s Detect Filament: %s" % (enable|lower,detect|lower))} {% endif %}